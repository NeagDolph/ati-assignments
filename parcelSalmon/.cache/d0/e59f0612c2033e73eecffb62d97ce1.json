{"id":"zSTK","dependencies":[{"name":"/root/salmon/parcelSalmon/package.json","includedInParent":true,"mtime":1580581401172},{"name":"axios","loc":{"line":1,"column":18},"parent":"/root/salmon/parcelSalmon/src/js/auth.js","resolved":"/root/salmon/parcelSalmon/node_modules/axios/index.js"},{"name":"./globals","loc":{"line":2,"column":33},"parent":"/root/salmon/parcelSalmon/src/js/auth.js","resolved":"/root/salmon/parcelSalmon/src/js/globals.js"},{"name":"/root/salmon/parcelSalmon/.uglifyrc","includedInParent":true,"mtime":1580504655153}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.authFunc=exports.signFuncs=void 0;var _axios=_interopRequireDefault(require(\"axios\")),_globals=require(\"./globals\");function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var signFuncs={};exports.signFuncs=signFuncs;var authFunc=function(app){gapi.load(\"auth2\",function(){gapi.auth2.init({client_id:\"203450520052-4olsv1k1uj6ditok97qncbho9n8usk36.apps.googleusercontent.com\",cookiepolicy:\"single_host_origin\",scopes:[\"https://www.googleapis.com/auth/userinfo.email\",\"https://www.googleapis.com/auth/userinfo.profile\"]}).then(function(auth2){signFuncs.auth2=auth2,signFuncs.signedIn=signedIn,auth2.isSignedIn.get()?signedIn(auth2.currentUser.get()):app.$set(app.loggedin,\"loggedin\",!1)})});var signedIn=function(googleUser){var first=arguments.length>1&&void 0!==arguments[1]&&arguments[1];_globals.userauth.authResponse=googleUser.getAuthResponse(),_globals.userauth.profile=googleUser.getBasicProfile(),_axios.default.post(_globals.apiurl.login,{idtoken:_globals.userauth.authResponse.id_token}).then(function(data){\"success\"==data?(app.$set(app.loggedin,\"loggedin\",!0),_axios.default.post(_globals.apiurl.data)):(app.rawData=data.data,_axios.default.post(_globals.apiurl.data),first&&window.location.reload())}).catch(function(e){console.log(\"login failed\",e)})};signFuncs.signOut=function(){_globals.userauth.authInstance=gapi.auth2.getAuthInstance(),_globals.userauth.authInstance.signOut().then(function(){_axios.default.get(_globals.apiurl.logout).then(function(){window.location.reload()})})}};exports.authFunc=authFunc;"},"sourceMaps":{"js":{"mappings":[{"source":"js/auth.js","original":{"line":7,"column":7},"generated":{"line":1,"column":0}},{"source":"js/auth.js","original":{"line":7,"column":7},"generated":{"line":1,"column":13}},{"source":"js/auth.js","original":{"line":7,"column":7},"generated":{"line":1,"column":20}},{"source":"js/auth.js","original":{"line":7,"column":7},"generated":{"line":1,"column":35}},{"source":"js/auth.js","original":{"line":7,"column":7},"generated":{"line":1,"column":43}},{"source":"js/auth.js","original":{"line":7,"column":7},"generated":{"line":1,"column":56}},{"source":"js/auth.js","original":{"line":7,"column":7},"generated":{"line":1,"column":57}},{"source":"js/auth.js","original":{"line":7,"column":7},"generated":{"line":1,"column":64}},{"source":"js/auth.js","original":{"line":7,"column":7},"generated":{"line":1,"column":68}},{"source":"js/auth.js","original":{"line":7,"column":7},"generated":{"line":1,"column":76}},{"source":"js/auth.js","original":{"line":7,"column":7},"generated":{"line":1,"column":85}},{"source":"js/auth.js","original":{"line":7,"column":7},"generated":{"line":1,"column":93}},{"source":"js/auth.js","original":{"line":7,"column":7},"generated":{"line":1,"column":108}},{"source":"js/auth.js","original":{"line":1,"column":0},"generated":{"line":1,"column":110}},{"source":"js/auth.js","original":{"line":1,"column":0},"generated":{"line":1,"column":114}},{"source":"js/auth.js","original":{"line":1,"column":0},"generated":{"line":1,"column":121}},{"source":"js/auth.js","original":{"line":1,"column":0},"generated":{"line":1,"column":144}},{"source":"js/auth.js","original":{"line":1,"column":0},"generated":{"line":1,"column":152}},{"source":"js/auth.js","original":{"line":2,"column":0},"generated":{"line":1,"column":162}},{"source":"js/auth.js","original":{"line":2,"column":0},"generated":{"line":1,"column":171}},{"source":"js/auth.js","original":{"line":2,"column":0},"generated":{"line":1,"column":179}},{"source":"js/auth.js","original":{"line":7,"column":7},"generated":{"line":1,"column":192}},{"source":"js/auth.js","original":{"line":7,"column":7},"generated":{"line":1,"column":201}},{"source":"js/auth.js","original":{"line":7,"column":7},"generated":{"line":1,"column":224}},{"source":"js/auth.js","original":{"line":7,"column":7},"generated":{"line":1,"column":229}},{"source":"js/auth.js","original":{"line":7,"column":7},"generated":{"line":1,"column":236}},{"source":"js/auth.js","original":{"line":7,"column":7},"generated":{"line":1,"column":241}},{"source":"js/auth.js","original":{"line":7,"column":7},"generated":{"line":1,"column":245}},{"source":"js/auth.js","original":{"line":7,"column":7},"generated":{"line":1,"column":256}},{"source":"js/auth.js","original":{"line":7,"column":7},"generated":{"line":1,"column":260}},{"source":"js/auth.js","original":{"line":7,"column":7},"generated":{"line":1,"column":261}},{"source":"js/auth.js","original":{"line":7,"column":7},"generated":{"line":1,"column":269}},{"source":"js/auth.js","original":{"line":4,"column":7},"generated":{"line":1,"column":274}},{"source":"js/auth.js","name":"signFuncs","original":{"line":4,"column":11},"generated":{"line":1,"column":278}},{"source":"js/auth.js","original":{"line":4,"column":23},"generated":{"line":1,"column":288}},{"source":"js/auth.js","original":{"line":7,"column":7},"generated":{"line":1,"column":291}},{"source":"js/auth.js","original":{"line":7,"column":7},"generated":{"line":1,"column":299}},{"source":"js/auth.js","original":{"line":7,"column":7},"generated":{"line":1,"column":309}},{"source":"js/auth.js","original":{"line":7,"column":7},"generated":{"line":1,"column":319}},{"source":"js/auth.js","name":"authFunc","original":{"line":7,"column":11},"generated":{"line":1,"column":323}},{"source":"js/auth.js","original":{"line":7,"column":22},"generated":{"line":1,"column":332}},{"source":"js/auth.js","name":"app","original":{"line":7,"column":22},"generated":{"line":1,"column":341}},{"source":"js/auth.js","name":"gapi","original":{"line":8,"column":0},"generated":{"line":1,"column":346}},{"source":"js/auth.js","name":"load","original":{"line":8,"column":5},"generated":{"line":1,"column":351}},{"source":"js/auth.js","original":{"line":8,"column":10},"generated":{"line":1,"column":356}},{"source":"js/auth.js","original":{"line":8,"column":19},"generated":{"line":1,"column":364}},{"source":"js/auth.js","name":"gapi","original":{"line":9,"column":2},"generated":{"line":1,"column":375}},{"source":"js/auth.js","name":"auth2","original":{"line":9,"column":7},"generated":{"line":1,"column":380}},{"source":"js/auth.js","name":"init","original":{"line":10,"column":5},"generated":{"line":1,"column":386}},{"source":"js/auth.js","original":{"line":10,"column":10},"generated":{"line":1,"column":391}},{"source":"js/auth.js","name":"client_id","original":{"line":11,"column":6},"generated":{"line":1,"column":392}},{"source":"js/auth.js","original":{"line":12,"column":8},"generated":{"line":1,"column":402}},{"source":"js/auth.js","name":"cookiepolicy","original":{"line":13,"column":6},"generated":{"line":1,"column":477}},{"source":"js/auth.js","original":{"line":13,"column":20},"generated":{"line":1,"column":490}},{"source":"js/auth.js","name":"scopes","original":{"line":14,"column":6},"generated":{"line":1,"column":511}},{"source":"js/auth.js","original":{"line":14,"column":14},"generated":{"line":1,"column":518}},{"source":"js/auth.js","original":{"line":15,"column":8},"generated":{"line":1,"column":519}},{"source":"js/auth.js","original":{"line":16,"column":8},"generated":{"line":1,"column":568}},{"source":"js/auth.js","name":"then","original":{"line":19,"column":5},"generated":{"line":1,"column":622}},{"source":"js/auth.js","original":{"line":19,"column":10},"generated":{"line":1,"column":627}},{"source":"js/auth.js","name":"auth2","original":{"line":19,"column":10},"generated":{"line":1,"column":636}},{"source":"js/auth.js","name":"signFuncs","original":{"line":20,"column":6},"generated":{"line":1,"column":643}},{"source":"js/auth.js","name":"auth2","original":{"line":20,"column":16},"generated":{"line":1,"column":653}},{"source":"js/auth.js","name":"auth2","original":{"line":20,"column":24},"generated":{"line":1,"column":659}},{"source":"js/auth.js","name":"signFuncs","original":{"line":21,"column":6},"generated":{"line":1,"column":665}},{"source":"js/auth.js","name":"signedIn","original":{"line":21,"column":16},"generated":{"line":1,"column":675}},{"source":"js/auth.js","name":"signedIn","original":{"line":21,"column":27},"generated":{"line":1,"column":684}},{"source":"js/auth.js","name":"auth2","original":{"line":22,"column":10},"generated":{"line":1,"column":693}},{"source":"js/auth.js","name":"isSignedIn","original":{"line":22,"column":16},"generated":{"line":1,"column":699}},{"source":"js/auth.js","name":"get","original":{"line":22,"column":27},"generated":{"line":1,"column":710}},{"source":"js/auth.js","name":"signedIn","original":{"line":22,"column":34},"generated":{"line":1,"column":716}},{"source":"js/auth.js","name":"auth2","original":{"line":22,"column":43},"generated":{"line":1,"column":725}},{"source":"js/auth.js","name":"currentUser","original":{"line":22,"column":49},"generated":{"line":1,"column":731}},{"source":"js/auth.js","name":"get","original":{"line":22,"column":61},"generated":{"line":1,"column":743}},{"source":"js/auth.js","name":"app","original":{"line":23,"column":11},"generated":{"line":1,"column":750}},{"source":"js/auth.js","name":"$set","original":{"line":23,"column":15},"generated":{"line":1,"column":754}},{"source":"js/auth.js","name":"app","original":{"line":23,"column":20},"generated":{"line":1,"column":759}},{"source":"js/auth.js","name":"loggedin","original":{"line":23,"column":24},"generated":{"line":1,"column":763}},{"source":"js/auth.js","original":{"line":23,"column":34},"generated":{"line":1,"column":772}},{"source":"js/auth.js","original":{"line":23,"column":46},"generated":{"line":1,"column":784}},{"source":"js/auth.js","name":"signedIn","original":{"line":27,"column":4},"generated":{"line":1,"column":791}},{"source":"js/auth.js","name":"signedIn","original":{"line":27,"column":4},"generated":{"line":1,"column":795}},{"source":"js/auth.js","original":{"line":27,"column":15},"generated":{"line":1,"column":804}},{"source":"js/auth.js","name":"googleUser","original":{"line":27,"column":16},"generated":{"line":1,"column":813}},{"source":"js/auth.js","name":"first","original":{"line":27,"column":28},"generated":{"line":1,"column":825}},{"source":"js/auth.js","name":"first","original":{"line":27,"column":28},"generated":{"line":1,"column":829}},{"source":"js/auth.js","original":{"line":27,"column":34},"generated":{"line":1,"column":835}},{"source":"js/auth.js","original":{"line":27,"column":34},"generated":{"line":1,"column":845}},{"source":"js/auth.js","original":{"line":27,"column":34},"generated":{"line":1,"column":852}},{"source":"js/auth.js","original":{"line":27,"column":34},"generated":{"line":1,"column":860}},{"source":"js/auth.js","original":{"line":27,"column":34},"generated":{"line":1,"column":864}},{"source":"js/auth.js","original":{"line":27,"column":34},"generated":{"line":1,"column":874}},{"source":"js/auth.js","original":{"line":27,"column":34},"generated":{"line":1,"column":878}},{"source":"js/auth.js","original":{"line":27,"column":34},"generated":{"line":1,"column":888}},{"source":"js/auth.js","name":"authResponse","original":{"line":28,"column":11},"generated":{"line":1,"column":891}},{"source":"js/auth.js","name":"authResponse","original":{"line":28,"column":11},"generated":{"line":1,"column":900}},{"source":"js/auth.js","name":"authResponse","original":{"line":28,"column":11},"generated":{"line":1,"column":909}},{"source":"js/auth.js","name":"googleUser","original":{"line":28,"column":26},"generated":{"line":1,"column":922}},{"source":"js/auth.js","name":"getAuthResponse","original":{"line":28,"column":37},"generated":{"line":1,"column":933}},{"source":"js/auth.js","name":"profile","original":{"line":29,"column":11},"generated":{"line":1,"column":951}},{"source":"js/auth.js","name":"profile","original":{"line":29,"column":11},"generated":{"line":1,"column":960}},{"source":"js/auth.js","name":"profile","original":{"line":29,"column":11},"generated":{"line":1,"column":969}},{"source":"js/auth.js","name":"googleUser","original":{"line":29,"column":21},"generated":{"line":1,"column":977}},{"source":"js/auth.js","name":"getBasicProfile","original":{"line":29,"column":32},"generated":{"line":1,"column":988}},{"source":"js/auth.js","name":"post","original":{"line":32,"column":5},"generated":{"line":1,"column":1006}},{"source":"js/auth.js","name":"post","original":{"line":32,"column":5},"generated":{"line":1,"column":1013}},{"source":"js/auth.js","name":"post","original":{"line":32,"column":5},"generated":{"line":1,"column":1021}},{"source":"js/auth.js","name":"apiurl","original":{"line":32,"column":10},"generated":{"line":1,"column":1026}},{"source":"js/auth.js","name":"login","original":{"line":32,"column":17},"generated":{"line":1,"column":1035}},{"source":"js/auth.js","name":"login","original":{"line":32,"column":17},"generated":{"line":1,"column":1042}},{"source":"js/auth.js","original":{"line":32,"column":24},"generated":{"line":1,"column":1048}},{"source":"js/auth.js","name":"idtoken","original":{"line":32,"column":26},"generated":{"line":1,"column":1049}},{"source":"js/auth.js","name":"userauth","original":{"line":32,"column":35},"generated":{"line":1,"column":1057}},{"source":"js/auth.js","name":"authResponse","original":{"line":32,"column":44},"generated":{"line":1,"column":1066}},{"source":"js/auth.js","name":"authResponse","original":{"line":32,"column":44},"generated":{"line":1,"column":1075}},{"source":"js/auth.js","name":"id_token","original":{"line":32,"column":57},"generated":{"line":1,"column":1088}},{"source":"js/auth.js","name":"then","original":{"line":33,"column":5},"generated":{"line":1,"column":1099}},{"source":"js/auth.js","original":{"line":33,"column":10},"generated":{"line":1,"column":1104}},{"source":"js/auth.js","name":"data","original":{"line":33,"column":10},"generated":{"line":1,"column":1113}},{"source":"js/auth.js","original":{"line":34,"column":18},"generated":{"line":1,"column":1119}},{"source":"js/auth.js","name":"data","original":{"line":34,"column":10},"generated":{"line":1,"column":1130}},{"source":"js/auth.js","name":"app","original":{"line":36,"column":8},"generated":{"line":1,"column":1136}},{"source":"js/auth.js","name":"$set","original":{"line":36,"column":12},"generated":{"line":1,"column":1140}},{"source":"js/auth.js","name":"app","original":{"line":36,"column":17},"generated":{"line":1,"column":1145}},{"source":"js/auth.js","name":"loggedin","original":{"line":36,"column":21},"generated":{"line":1,"column":1149}},{"source":"js/auth.js","original":{"line":36,"column":31},"generated":{"line":1,"column":1158}},{"source":"js/auth.js","original":{"line":36,"column":43},"generated":{"line":1,"column":1170}},{"source":"js/auth.js","name":"post","original":{"line":37,"column":14},"generated":{"line":1,"column":1173}},{"source":"js/auth.js","name":"post","original":{"line":37,"column":14},"generated":{"line":1,"column":1180}},{"source":"js/auth.js","name":"post","original":{"line":37,"column":14},"generated":{"line":1,"column":1188}},{"source":"js/auth.js","name":"apiurl","original":{"line":37,"column":19},"generated":{"line":1,"column":1193}},{"source":"js/auth.js","name":"data","original":{"line":37,"column":26},"generated":{"line":1,"column":1202}},{"source":"js/auth.js","name":"data","original":{"line":37,"column":26},"generated":{"line":1,"column":1209}},{"source":"js/auth.js","name":"app","original":{"line":39,"column":8},"generated":{"line":1,"column":1217}},{"source":"js/auth.js","name":"rawData","original":{"line":39,"column":12},"generated":{"line":1,"column":1221}},{"source":"js/auth.js","name":"data","original":{"line":39,"column":22},"generated":{"line":1,"column":1229}},{"source":"js/auth.js","name":"data","original":{"line":39,"column":27},"generated":{"line":1,"column":1234}},{"source":"js/auth.js","name":"post","original":{"line":40,"column":14},"generated":{"line":1,"column":1239}},{"source":"js/auth.js","name":"post","original":{"line":40,"column":14},"generated":{"line":1,"column":1246}},{"source":"js/auth.js","name":"post","original":{"line":40,"column":14},"generated":{"line":1,"column":1254}},{"source":"js/auth.js","name":"apiurl","original":{"line":40,"column":19},"generated":{"line":1,"column":1259}},{"source":"js/auth.js","name":"data","original":{"line":40,"column":26},"generated":{"line":1,"column":1268}},{"source":"js/auth.js","name":"data","original":{"line":40,"column":26},"generated":{"line":1,"column":1275}},{"source":"js/auth.js","name":"first","original":{"line":41,"column":12},"generated":{"line":1,"column":1281}},{"source":"js/auth.js","name":"window","original":{"line":41,"column":19},"generated":{"line":1,"column":1288}},{"source":"js/auth.js","name":"location","original":{"line":41,"column":26},"generated":{"line":1,"column":1295}},{"source":"js/auth.js","name":"reload","original":{"line":41,"column":35},"generated":{"line":1,"column":1304}},{"source":"js/auth.js","name":"catch","original":{"line":44,"column":5},"generated":{"line":1,"column":1316}},{"source":"js/auth.js","original":{"line":44,"column":11},"generated":{"line":1,"column":1322}},{"source":"js/auth.js","name":"e","original":{"line":44,"column":11},"generated":{"line":1,"column":1331}},{"source":"js/auth.js","name":"console","original":{"line":45,"column":6},"generated":{"line":1,"column":1334}},{"source":"js/auth.js","name":"log","original":{"line":45,"column":14},"generated":{"line":1,"column":1342}},{"source":"js/auth.js","original":{"line":45,"column":18},"generated":{"line":1,"column":1346}},{"source":"js/auth.js","name":"e","original":{"line":45,"column":34},"generated":{"line":1,"column":1361}},{"source":"js/auth.js","name":"signFuncs","original":{"line":49,"column":0},"generated":{"line":1,"column":1367}},{"source":"js/auth.js","name":"signOut","original":{"line":49,"column":10},"generated":{"line":1,"column":1377}},{"source":"js/auth.js","original":{"line":49,"column":20},"generated":{"line":1,"column":1385}},{"source":"js/auth.js","name":"authInstance","original":{"line":50,"column":11},"generated":{"line":1,"column":1396}},{"source":"js/auth.js","name":"authInstance","original":{"line":50,"column":11},"generated":{"line":1,"column":1405}},{"source":"js/auth.js","name":"authInstance","original":{"line":50,"column":11},"generated":{"line":1,"column":1414}},{"source":"js/auth.js","name":"gapi","original":{"line":50,"column":26},"generated":{"line":1,"column":1427}},{"source":"js/auth.js","name":"auth2","original":{"line":50,"column":31},"generated":{"line":1,"column":1432}},{"source":"js/auth.js","name":"getAuthInstance","original":{"line":50,"column":37},"generated":{"line":1,"column":1438}},{"source":"js/auth.js","name":"authInstance","original":{"line":51,"column":11},"generated":{"line":1,"column":1456}},{"source":"js/auth.js","name":"authInstance","original":{"line":51,"column":11},"generated":{"line":1,"column":1465}},{"source":"js/auth.js","name":"authInstance","original":{"line":51,"column":11},"generated":{"line":1,"column":1474}},{"source":"js/auth.js","name":"signOut","original":{"line":51,"column":24},"generated":{"line":1,"column":1487}},{"source":"js/auth.js","name":"then","original":{"line":51,"column":34},"generated":{"line":1,"column":1497}},{"source":"js/auth.js","original":{"line":51,"column":39},"generated":{"line":1,"column":1502}},{"source":"js/auth.js","name":"get","original":{"line":52,"column":10},"generated":{"line":1,"column":1513}},{"source":"js/auth.js","name":"get","original":{"line":52,"column":10},"generated":{"line":1,"column":1520}},{"source":"js/auth.js","name":"get","original":{"line":52,"column":10},"generated":{"line":1,"column":1528}},{"source":"js/auth.js","name":"apiurl","original":{"line":52,"column":14},"generated":{"line":1,"column":1532}},{"source":"js/auth.js","name":"logout","original":{"line":52,"column":21},"generated":{"line":1,"column":1541}},{"source":"js/auth.js","name":"logout","original":{"line":52,"column":21},"generated":{"line":1,"column":1548}},{"source":"js/auth.js","name":"then","original":{"line":52,"column":29},"generated":{"line":1,"column":1556}},{"source":"js/auth.js","original":{"line":52,"column":34},"generated":{"line":1,"column":1561}},{"source":"js/auth.js","name":"window","original":{"line":53,"column":6},"generated":{"line":1,"column":1572}},{"source":"js/auth.js","name":"location","original":{"line":53,"column":13},"generated":{"line":1,"column":1579}},{"source":"js/auth.js","name":"reload","original":{"line":53,"column":22},"generated":{"line":1,"column":1588}},{"source":"js/auth.js","original":{"line":7,"column":7},"generated":{"line":1,"column":1603}},{"source":"js/auth.js","original":{"line":7,"column":7},"generated":{"line":1,"column":1611}},{"source":"js/auth.js","original":{"line":7,"column":7},"generated":{"line":1,"column":1620}}],"sources":{"js/auth.js":"import axios from 'axios';\nimport { userauth, apiurl } from './globals';\n\nexport var signFuncs = {};\n\n\nexport var authFunc = app => {\ngapi.load(\"auth2\", function() {\n  gapi.auth2\n    .init({\n      client_id:\n        \"203450520052-4olsv1k1uj6ditok97qncbho9n8usk36.apps.googleusercontent.com\",\n      cookiepolicy: \"single_host_origin\",\n      scopes: [\n        \"https://www.googleapis.com/auth/userinfo.email\",\n        \"https://www.googleapis.com/auth/userinfo.profile\"\n      ]\n    })\n    .then(auth2 => {\n      signFuncs.auth2 = auth2;\n      signFuncs.signedIn = signedIn;\n      if (auth2.isSignedIn.get()) signedIn(auth2.currentUser.get());\n      else app.$set(app.loggedin, 'loggedin', false)\n    });\n});\n\nlet signedIn = (googleUser, first=false) => {\n  userauth.authResponse = googleUser.getAuthResponse();\n  userauth.profile = googleUser.getBasicProfile();\n\n  axios\n    .post(apiurl.login, { idtoken: userauth.authResponse.id_token })\n    .then(data => {\n      if (data == \"success\") {\n        \n        app.$set(app.loggedin, 'loggedin', true)\n        axios.post(apiurl.data);\n      } else {\n        app.rawData = data.data\n        axios.post(apiurl.data);\n        if (first) window.location.reload()\n      }\n    })\n    .catch(e => {\n      console.log(\"login failed\", e);\n    });\n};\n\nsignFuncs.signOut = () => {\n  userauth.authInstance = gapi.auth2.getAuthInstance();\n  userauth.authInstance.signOut().then(() => {\n    axios.get(apiurl.logout).then(() => {\n      window.location.reload()\n    })\n  });\n};\n}\n"},"lineCount":null}},"error":null,"hash":"09382f7d5e8db3d85519492bb20eac38","cacheData":{"env":{}}}